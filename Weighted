Assigned (Weighted over Period) :=
VAR CapHere   = [Cap_c]             -- your existing measure
VAR ReqHere   = [Req_c]             -- (you wrote Rec_c earlier; using Req_c)
VAR a         = COALESCE ( [Alpha Value], 0.5 )   -- What-If (0..1). Fallback=0.5

-- Period totals: respect all slicers, ignore only the category (SUPPLY_SUBINVENTORY_CODE)
VAR CapTotal  = CALCULATE ( [Cap_c], REMOVEFILTERS ( 'WO PART LIST'[SUPPLY_SUBINVENTORY_CODE] ) )
VAR ReqTotal  = CALCULATE ( [Req_c], REMOVEFILTERS ( 'WO PART LIST'[SUPPLY_SUBINVENTORY_CODE] ) )

-- Shares (safe DIVIDE)
VAR CapShare  = DIVIDE ( CapHere, CapTotal, 0 )
VAR ReqShare  = DIVIDE ( ReqHere, ReqTotal, 0 )

-- Weighted share
VAR TargetShare = (1 - a) * CapShare + a * ReqShare

-- Total to assign this period (canâ€™t exceed what exists)
VAR TotalAssigned = MIN ( ReqTotal, CapTotal )

-- Guard: if no totals, return 0
RETURN IF ( TotalAssigned <= 0, 0, TargetShare * TotalAssigned )
